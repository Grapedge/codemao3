(this.webpackJsonpcodemao3=this.webpackJsonpcodemao3||[]).push([[0],{108:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(9),o=a.n(c),s=(a(77),a(63));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(s.a,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},24:function(e,t,a){"use strict";a.d(t,"b",(function(){return p})),a.d(t,"c",(function(){return m})),a.d(t,"a",(function(){return h}));var n=a(11),r=a(12),c=a(14),o=a(13),s=a(15),u=a(0),l=a.n(u),i=a(109);function p(e){var t={};return Object.values(e).map((function(e,a){return t[e]=a,a})),t}function m(e){var t={};return Object.assign(t,e),Object.keys(t).map((function(e){return t[e]=e})),t}var h=function(e){function t(){var e,a;Object(n.a)(this,t);for(var r=arguments.length,s=new Array(r),u=0;u<r;u++)s[u]=arguments[u];return(a=Object(c.a)(this,(e=Object(o.a)(t)).call.apply(e,[this].concat(s)))).value=function(){return a.select.value},a.onChange=function(){a.props.onChange&&a.props.onChange(a.select.value)},a}return Object(s.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this;return l.a.createElement(i.a.Control,{className:this.props.className,as:"select",onChange:this.onChange,ref:function(t){return e.select=t},defaultValue:this.props.defaultValue||this.props.option[Object.keys(this.props.option)[0]]},Object.keys(this.props.option).map((function(t,a){return l.a.createElement("option",{key:t+e.props.keys||""+a,value:e.props.option[t]},t)})))}}]),t}(l.a.Component);h.defaultProps={option:{}}},29:function(e,t,a){"use strict";function n(e,t,a){alert(e)}a.d(t,"a",(function(){return n}))},63:function(e,t,a){"use strict";(function(e){a.d(t,"a",(function(){return S}));var n=a(11),r=a(12),c=a(14),o=a(13),s=a(15),u=a(0),l=a.n(u),i=a(64),p=a(35),m=a(34),h=a(24),f=a(71),d=a(29),v={},b={},y=!0,g=!1,C=void 0;try{for(var E,k=e.trials[Symbol.iterator]();!(y=(E=k.next()).done);y=!0){var w=E.value;v[w.set]||(v[w.set]=[]),v[w.set].push(w.course)}}catch(O){g=!0,C=O}finally{try{y||null==k.return||k.return()}finally{if(g)throw C}}var S=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(c.a)(this,Object(o.a)(t).call(this,e))).createSpawner=function(e,t){var n=a.state.spawners;n.push({spawnerId:++a.spawnerCount,course:e[t],courseList:e}),a.setState({spawners:n})},a.onCreateSpawner=function(){a.handleCreateSpanwerModal(!0)},a.handleCreateSpanwerModal=function(e){a.setState({showCreateModal:e,courseList:v,courseListType:"\u8bd5\u542c\u8bfe",courseSet:v[Object.keys(v)[0]],courseSetName:Object.keys(v)[0],courseIndex:v[Object.keys(v)[0]].length>0?0:-1})},a.getCourseList=function(){if(a.courseSet){var e=a.courseSet.value();return(a.state.isTrial?v:b)[e].map((function(e){return e.name}))}return[]},a.state={courseListType:"\u8bd5\u542c\u8bfe",courseList:{},courseSet:[],courseIndex:0,courseSetName:"",showCreateModal:!1,spawners:[]},a.spawnerCount=0,a}return Object(s.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"main"},l.a.createElement(i.a,{title:"\u53cd\u9988\u751f\u6210\u5668",onCreateSpawner:this.onCreateSpawner}),l.a.createElement("div",{className:"main"},l.a.createElement(f.a,{spawners:this.state.spawners})),l.a.createElement(p.a,{show:this.state.showCreateModal,onHide:function(){return e.handleCreateSpanwerModal(!1)},centered:!0},l.a.createElement(p.a.Header,{closeButton:!0},l.a.createElement(p.a.Title,null,"\u65b0\u5efa\u6a21\u677f")),l.a.createElement(p.a.Body,null,l.a.createElement("h5",null,"\u4fe1\u606f\u914d\u7f6e"),l.a.createElement(h.a,{controId:"courseType",option:{"\u8bd5\u542c\u8bfe":"\u8bd5\u542c\u8bfe","\u6b63\u5f0f\u8bfe":"\u6b63\u5f0f\u8bfe"},onChange:function(t){var a="\u8bd5\u542c\u8bfe"===t?v:b,n=a[Object.keys(a)[0]]||[],r=n.length>0?0:-1;e.setState({courseListType:t,courseList:a,courseSet:n,courseIndex:r})},className:"mb-1"}),l.a.createElement(h.a,{className:"mb-1",controId:"courseSet",option:Object(h.c)(this.state.courseList),onChange:function(t){e.setState({courseSetName:t,courseSet:e.state.courseList[t],courseIndex:e.state.courseList[t].length>0?0:-1})}}),l.a.createElement(h.a,{controId:"courseLis23t",className:"mb-1",defaultValue:0,keys:this.state.courseListType+"[-]"+this.state.courseSetName,option:Object(h.b)(this.state.courseSet.map((function(e){return e.name}))),onChange:function(t){e.setState({courseIndex:t})}})),l.a.createElement(p.a.Footer,null,l.a.createElement(m.a,{variant:"secondary",onClick:function(){return e.handleCreateSpanwerModal(!1)}},"\u53d6\u6d88"),l.a.createElement(m.a,{variant:"primary",onClick:function(){e.state.courseIndex<0?Object(d.a)("\u8bfe\u7a0b\u7d22\u5f15\u9519\u8bef\uff0c\u8bf7\u786e\u5b9a\u662f\u5426\u9009\u62e9\u4e86\u6b63\u786e\u7684\u8bfe\u7a0b","\u9519\u8bef","error"):(e.createSpawner(e.state.courseSet,e.state.courseIndex),e.handleCreateSpanwerModal(!1))}},"\u65b0\u5efa"))))}}]),t}(l.a.Component)}).call(this,a(43))},64:function(e,t,a){"use strict";a.d(t,"a",(function(){return f}));var n=a(11),r=a(12),c=a(14),o=a(13),s=a(15),u=a(0),l=a.n(u),i=a(110),p=a(34),m=a(36),h=a(29),f=function(e){function t(){return Object(n.a)(this,t),Object(c.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return l.a.createElement(i.a,{style:{background:"linear-gradient(45deg, LIGHTCORAL, LIGHTSALMON)"},variant:"light",collapseOnSelect:!0,expand:"lg"},l.a.createElement("img",{alt:"",src:"https://static.codemao.cn/community_official/static/media/header_logo.54ac0e13.svg",height:"30",className:"d-inline-block align-top mr-auto"}),l.a.createElement(p.a,{variant:"outline-light",onClick:this.props.onCreateSpawner},"\u65b0\u5efa"),l.a.createElement(m.a,null,l.a.createElement(m.a.Toggle,{variant:"outline-light",id:"dropdown-menu"},l.a.createElement("i",{className:"iconfont iconmenu"})),l.a.createElement(m.a.Menu,{alignRight:!0,style:{right:0,left:"auto"}},l.a.createElement(m.a.Item,{onClick:function(){return window.open("http://wpa.qq.com/msgrd?v=3&uin=203202537&site=qq&menu=yes")}},"\u5efa\u8bae\u4e0e\u6a21\u677f\u63d0\u4ea4"),l.a.createElement(m.a.Item,{onClick:function(){return Object(h.a)("\u529f\u80fd\u5f85\u6dfb\u52a0")}},"Todo"))))}}]),t}(l.a.Component)},71:function(e,t,a){"use strict";var n=a(11),r=a(12),c=a(14),o=a(13),s=a(15),u=a(0),l=a.n(u),i=a(112),p=a(113),m=a(109),h=a(69),f=a(114),d=a(34),v=a(35),b=a(24),y=(a(93),function(e){function t(){var e,a;Object(n.a)(this,t);for(var r=arguments.length,s=new Array(r),u=0;u<r;u++)s[u]=arguments[u];return(a=Object(c.a)(this,(e=Object(o.a)(t)).call.apply(e,[this].concat(s)))).hover=function(e){return a.props.hover(a.props.starIndex)},a.out=function(e){return a.props.out()},a.click=function(e){return a.props.click(a.props.starIndex)},a}return Object(s.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e="iconfont iconstar star";return e+=this.props.bright?"-bright":"",l.a.createElement("i",{className:e,onMouseEnter:this.hover,onMouseLeave:this.out,onClick:this.click})}}]),t}(l.a.Component)),g=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(c.a)(this,Object(o.a)(t).call(this,e))).starHover=function(e){a.setState({brightIndex:e})},a.starOut=function(){a.setState({brightIndex:a.state.activeIndex})},a.starClick=function(e){a.setState({activeIndex:e}),a.props.onChange&&a.props.onChange(e+1)},a.state={stars:[],brightIndex:e.count-1,activeIndex:e.count-1},a}return Object(s.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){for(var e=[],t=0;t<this.props.count;t++)e.push(t);this.setState({stars:e})}},{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:this.props.className},this.state.stars.map((function(t){return l.a.createElement(y,{starIndex:t,bright:e.state.brightIndex>=t,key:"star"+t,hover:e.starHover,out:e.starOut,click:e.starClick})})))}}]),t}(l.a.Component),C=a(29),E=function(e){function t(e){var a;Object(n.a)(this,t),(a=Object(c.a)(this,Object(o.a)(t).call(this,e))).parseBasicInfo=function(e){var t=e.target.value,n=[/^(\S*?)(\d+)/g,/\u5e74\u9f84\uff1a(\d+)/g,/\u6027\u522b\uff1a(\S+)/g,/\u5e74\u7ea7\uff1a(\S+)/g,/\u7f16\u7a0b\u57fa\u7840\uff1a(\S+)/g,/\u7535\u8111\u64cd\u4f5c\uff1a(\S+)/g,/\u8001\u5e08\u504f\u597d\uff1a(\S+)/g,/\u5bb6\u957f\u61c2\u7f16\u7a0b\uff1a(\S+)/g,/\u5bb6\u957f\u671f\u671b\uff1a(\S+)/g,/\u8bfe\u7a0b\u987e\u95ee\uff1a(\S+)/g,/\u73ed\u4e3b\u4efb\uff1a(\S+)/g],r=[""];for(var c in n){var o=n[c].exec(t);if(null!==o)for(var s=1;s<o.length;s++)r.push(o[s]);else r.push("\u672a\u586b"),0===c&&r.push("\u672a\u586b")}r&&(a.basic.name.value=r[1]||"",a.setInputValue("name",a.basic.name.value),a.basic.account.value=r[2]||"",a.setInputValue("id",a.basic.account.value),a.basic.consultant.value=r[11]||"",a.setInputValue("consultant",a.basic.consultant.value)),isNaN(parseInt(r[3]))||(a.basic.age.value=parseInt(r[3]),a.setInputValue("age",a.basic.age.value))},a.handleChange=function(e){a.inputValue[e.target.name]=e.target.value},a.handleCheckBoxChange=function(e){var t=e.target,n=t.checked,r=t.value,c=t.name,o=a.inputValue[c].indexOf(r);n?-1===o&&a.inputValue[c].push(r):-1!==o&&a.inputValue[c].splice(o,1)},a.handleSelectChange=function(e,t){a.inputValue[e]=t},a.onClickSpawn=function(e){a.result.value!==a.lastResult?a.setAlertVisible(!0):a.spawnResult(e)},a.spawnResult=function(e){var t="",n=!0,r=!1,c=void 0;try{for(var o,s=e[Symbol.iterator]();!(n=(o=s.next()).done);n=!0){t+=o.value+"\n"}}catch(l){r=!0,c=l}finally{try{n||null==s.return||s.return()}finally{if(r)throw c}}for(var u=0;-1!==t.search(/\$\{[^}]*\}/g)&&u<100;)t=t.replace(/\$\{([^}]*)\}/g,(function(e,t){return Array.isArray(a.inputValue[t])?a.inputValue[t].join("\uff0c")+"\u3002":a.inputValue[t]})),++u;-1!==t.search(/\$\{[^}]*\}/g)&&u>=100&&Object(C.a)("\u5806\u6808\u6ea2\u51fa\uff0c\u8bf7\u786e\u5b9a\u914d\u7f6e\u6587\u4ef6\u7684\u6a21\u677f\u53d8\u91cf\u6ca1\u6709\u5d4c\u5957\u8c03\u7528","\u9519\u8bef","error"),a.result.value=t,a.result.select(),document.execCommand("copy"),a.lastResult=t},a.setAlertVisible=function(e){a.setState({showAlert:e})},a.inputValue={course:e.course.name,star:"\u2b50\u2b50\u2b50\u2b50\u2b50",name:"\u8bad\u7ec3\u5e08"},a.basic={},a.mapKey=0,a.state={showAlert:!1},a.lastResult="";var r=e.course,s=e.courseList;return a.courseList=s,a.courseSelect={},a.courseSelectDefaultValue=0,s.map((function(t,n){return e.course.name===t.name&&(a.courseSelectDefaultValue=n),a.courseSelect[t.name]=n,t})),a.state={course:r,formElement:a.createForm(r.form)},a}return Object(s.a)(t,e),Object(r.a)(t,[{key:"setInputValue",value:function(e,t){this.inputValue[e]=t}},{key:"createForm",value:function(e){var t=this,a=[],n=function(e){switch(e.type){case"info":return l.a.createElement(m.a,{key:"input"+t.mapKey++},l.a.createElement(m.a.Row,{className:"pb-1"},l.a.createElement(h.a,null,l.a.createElement(m.a.Control,{type:"text",placeholder:"\u57fa\u7840\u4fe1\u606f\u81ea\u52a8\u89e3\u6790",onChange:function(e){return t.parseBasicInfo(e)}}))),l.a.createElement(m.a.Row,null,l.a.createElement(h.a,null,l.a.createElement(m.a.Control,{name:"name",onChange:t.handleChange,type:"text",placeholder:"\u59d3\u540d",ref:function(e){return t.basic.name=e}})),l.a.createElement(h.a,null,l.a.createElement(m.a.Control,{name:"id",onChange:t.handleChange,type:"text",placeholder:"\u8d26\u53f7",ref:function(e){return t.basic.account=e}})),l.a.createElement(h.a,null,l.a.createElement(m.a.Control,{name:"age",onChange:t.handleChange,type:"text",placeholder:"\u5e74\u9f84",ref:function(e){return t.basic.age=e}})),l.a.createElement(h.a,null,l.a.createElement(m.a.Control,{name:"consultant",onChange:t.handleChange,type:"text",placeholder:"\u987e\u95ee",ref:function(e){return t.basic.consultant=e}}))));case"star-box":return l.a.createElement(g,{key:"star"+t.mapKey++,count:5,onChange:function(e){for(var a="",n=0;n<e;n++)a+="\u2b50";t.inputValue.star=a},className:"mb-0"});case"check-box":return t.inputValue[e.name]=[],l.a.createElement(m.a,{key:"check-box"+t.mapKey++},e.value.map((function(a){return t.inputValue[e.name].push(a),l.a.createElement(m.a.Check,{defaultChecked:!0,type:"checkbox",key:"check-item"+t.mapKey++,id:"check-item"+(null==t.props.spawnerId?1e3*Math.random():t.props.spawnerId)+t.mapKey++,label:a,value:a,name:e.name,onChange:t.handleCheckBoxChange})})));case"select":return t.inputValue[e.name]=e.value[Object.keys(e.value)[0]],l.a.createElement(b.a,{className:"mb-1",option:e.value,key:"select"+t.mapKey++,onChange:function(a){return t.handleSelectChange(e.name,a)}});default:return null}},r=!0,c=!1,o=void 0;try{for(var s,u=e[Symbol.iterator]();!(r=(s=u.next()).done);r=!0){var i=s.value,p=i.item.map((function(e){return n(e)}));a.push(l.a.createElement(f.a.Body,{className:"pl-2 pr-2 pt-2 pb-1 ",key:"card"+this.mapKey++},l.a.createElement("h5",{style:{fontSize:"1.1em"}},i.title),p))}}catch(d){c=!0,o=d}finally{try{r||null==u.return||u.return()}finally{if(c)throw o}}return a}},{key:"render",value:function(){var e=this,t=this.state.course.template;return l.a.createElement(f.a,{bg:"light",className:"mb-3",style:{width:"22rem"}},l.a.createElement(f.a.Header,null,l.a.createElement(b.a,{defaultValue:this.courseSelectDefaultValue,option:this.courseSelect,onChange:function(t){e.inputValue.course=e.courseList[t].name,e.setState({course:e.courseList[t],formElement:e.createForm(e.courseList[t].form)})}})),this.state.formElement,l.a.createElement(f.a.Body,{className:"pt-1"},l.a.createElement(d.a,{variant:"outline-secondary",className:"mb-2",style:{width:"100%"},onClick:function(){return e.onClickSpawn(t)}},"\u751f\u6210\u5e76\u590d\u5236"),l.a.createElement(m.a.Control,{as:"textarea",style:{height:"150px"},ref:function(t){return e.result=t}})),l.a.createElement(v.a,{show:this.state.showAlert,onHide:function(){return e.setAlertVisible(!1)},centered:!0},l.a.createElement(v.a.Header,{closeButton:!0},l.a.createElement(v.a.Title,null,"\u6587\u672c\u88ab\u4fee\u6539")),l.a.createElement(v.a.Body,null,"\u91cd\u65b0\u751f\u6210\u540e\u4fee\u6539\u5c06\u4e22\u5931"),l.a.createElement(v.a.Footer,null,l.a.createElement(d.a,{variant:"secondary",onClick:function(){return e.setAlertVisible(!1)}},"\u53d6\u6d88"),l.a.createElement(d.a,{variant:"primary",onClick:function(){e.setAlertVisible(!1),e.spawnResult(t)}},"\u751f\u6210"))))}}]),t}(l.a.Component);E.defaultProps={spawnerId:null,course:{name:"\u8bfe\u7a0b\u540d",form:[{title:"\u57fa\u7840\u4fe1\u606f",item:[{type:"info"}]},{title:"\u6574\u4f53\u8868\u73b0",item:[{type:"star-box"}]}],template:[]}},a.d(t,"a",(function(){return k}));var k=function(e){function t(){return Object(n.a)(this,t),Object(c.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return l.a.createElement(i.a,{fluid:!0,className:"mt-3",style:{background:"#FDFEFE"}},l.a.createElement(p.a,{className:"justify-content-around"},this.props.spawners.map((function(e){var t=e.spawnerId?e.spawnerId:1e3*Math.random();return l.a.createElement(E,{course:e.course,courseList:e.courseList,spawnerId:t,key:"spawner"+t})}))))}}]),t}(l.a.Component);k.defaultProps={spawners:[]}},72:function(e,t,a){e.exports=a(108)},77:function(e,t,a){},93:function(e,t,a){}},[[72,1,2]]]);
//# sourceMappingURL=main.ed2c469c.chunk.js.map